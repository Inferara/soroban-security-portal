using SorobanSecurityPortalApi.Models.DbModels;
using SorobanSecurityPortalApi.Models.ViewModels;
using AutoMapper;

namespace SorobanSecurityPortalApi.Models.Mapping;

public class VulnerabilitySearchModelProfile : Profile
{
    public VulnerabilitySearchModelProfile()
    {
        CreateMap<VulnerabilitySearchViewModel, VulnerabilitySearchModel>()
            .ForMember(dst => dst.AuditorNames, opt => opt.MapFrom(v => v.Auditors))
            .ForMember(dst => dst.AuditorIds, opt => opt.MapFrom(v => v.AuditorIds))
            .ForMember(dst => dst.CompanyNames, opt => opt.MapFrom(v => v.Companies))
            .ForMember(dst => dst.CompanyIds, opt => opt.MapFrom(v => v.CompanyIds))
            .ForMember(dst => dst.ProtocolNames, opt => opt.MapFrom(v => v.Protocols))
            .ForMember(dst => dst.ProtocolIds, opt => opt.MapFrom(v => v.ProtocolIds))
            .ForMember(dst => dst.ReportNames, opt => opt.MapFrom(v => v.Reports))
            .ForMember(dst => dst.ReportIds, opt => opt.MapFrom(v => v.ReportIds))
            .ForMember(dst => dst.Categories, opt => opt.MapFrom(v => v.Categories));
        CreateMap<VulnerabilitySearchModel, VulnerabilitySearchViewModel>();
    }
}